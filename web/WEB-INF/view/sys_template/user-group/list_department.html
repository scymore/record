[@EC.breadcrumbs/]

<div id="page-content" class="clearfix">
    <div class="page-header position-relative">
        <h1>Department Mangement</h1>
        
    </div><!--/page-header-->

    <div class="row-fluid">
        <div class="span12">
            <div class="widget-box">
                <div class="widget-header widget-header-blue widget-header-flat wi1dget-header-large">
                    <h4 class="lighter">Department List</h4>
                    <div class="widget-toolbar">
                        <div class="btn-group">
                        [@ec_privilege_check uri="${current_uri}/add"]
                            <button class="btn btn-small btn-success" onclick="CEUtil.modal.open({url:'${path}${AUTH_MENU.privilege.uri!}'});" >
                                <i class="icon-plus"></i>${AUTH_MENU.name}
                            </button>
                        [/@ec_privilege_check]
                        [@ec_privilege_check uri="${current_uri}/delete"]
                            <button class="btn btn-small btn-danger" onclick="CEUtil.batchConfirm(CEUtil.dataTable.tableID,'${path}${AUTH_MENU.privilege.uri!}')">
                                <i class="icon-remove"></i>${AUTH_MENU.name}
                            </button>
                        [/@ec_privilege_check]
                            <button class="btn btn-small btn-info" onclick="CEUtil.dataTable.refresh();">
                                <i class="icon-refresh"></i>Refresh
                            </button>
                        </div>
                    </div>
                </div>
                <div class="widget-body">
                    <div class="widget-main">
                        <table id="departmentDataTable" class="table table-striped table-bordered table-hover">
                            <thead>
                                <tr>
                                    <th class="center" style="width: 50px;"><label>
                                        <input type="checkbox" onclick="CEUtil.checkAll(this);"/>
                                        <span class="lbl"></span></label></th>
                                    <th>No.</th>
                                    <th>Department Name</th>
                                    <th class="hidden-480">Parent Department</th>
                                    <th class="hidden-480">Principal</th>
                                    <th>Operations</th>
                                </tr>
                            </thead>

                        </table>
                    </div>
                </div>
            </div>
        </div>
        <!-- PAGE CONTENT ENDS HERE -->
    </div>
</div>

<script type="text/javascript">
	$(function() {
        CEUtil.dataTable.initTable({
			"serverSide":true,
			"tableID":"#departmentDataTable",
			//对每列设置排序规则
			//列的长度必须对应，如果表格有7列，必须写7个，否则会报错
			"columns": [
			            {
			    		  "data":"id",
			    		  "sortable": false
			            },
			            {
			    		  "data":"no"
			            },
			            {
			    		  "data":"name"
			            },
			            {
			    		  "data":"parentName"
			            },
			            {
			    		  "data":"leader"
			            },
			            {
			    		  "data":"links",
			    		  "sortable": false
			            }
	        ],
            "url": "${path}${current_uri}",
            "order": [[ 1, "asc" ]]
		});
	})
</script>
