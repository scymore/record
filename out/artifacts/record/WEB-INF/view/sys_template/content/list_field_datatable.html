<div class="widget-box">
	<div class="widget-header widget-header-flat">
    	<div class="widget-toolbar">
        [@ec_privilege_check uri="${current_uri}/sys"]
            <button class="btn btn-small btn-warning" onclick="CEUtil.loadFile('${AUTH_MENU.privilege.uri!}?modelId=${(form.modelId)!}');" >
                <i class="icon-sitemap"></i>${AUTH_MENU.name}
            </button>
        [/@ec_privilege_check]
        [@ec_privilege_check uri="${current_uri}/add"]
            <button class="btn btn-small btn-success" onclick="CEUtil.loadFile('${AUTH_MENU.privilege.uri!}?modelId=${(form.modelId)!}');" >
                <i class="icon-plus"></i>${AUTH_MENU.name}
            </button>
        [/@ec_privilege_check]
        [@ec_privilege_check uri="${current_uri}/delete"]
            <button class="btn btn-small btn-danger" onclick="CEUtil.batchConfirm(CEUtil.dataTable.tableID,'${AUTH_MENU.privilege.uri!}')">
                <i class="icon-remove"></i>${AUTH_MENU.name}
            </button>
        [/@ec_privilege_check]
            <button class="btn btn-small btn-info" onclick="CEUtil.dataTable.refresh();">
                     <i class="icon-refresh"></i>Refresh
                 </button>
         </div>
     </div>
     <div class="widget-body">
         <div class="widget-main">
             <table id="fieldsTable" class="table table-striped table-bordered table-hover">
                 <thead>
                     <tr>
                         <th class="center"><label>
                             <input type="checkbox" onchange="CEUtil.checkAll(this);"/>
                             <span class="lbl"></span></label></th>
                         <th>Field Name</th>
                         <th>Field Type</th>
                         <th class="hidden-phone">Code</th>
                         <th>Operations</th>
                     </tr>
                 </thead>

             </table>
         </div>
     </div>
</div>

<script type="text/javascript">
	$(function() {
		var modelId = "${(form.modelId)!}";
		CEUtil.dataTable.initTable({
			"tableID":"#fieldsTable",
			//对每列设置排序规则
			//列的长度必须对应，如果表格有7列，必须写7个，否则会报错
			"columns": [
			            {
			    		  "data":"id",
			    		  "sortable": false
			            },
			            {
			    		  "data":"fieldName"
			            },
			            {
			    		  "data":"fieldType"
			            },
			            {
			    		  "data":"fieldCode"
			            },
			            {
			    		  "data":"links",
			    		  "sortable": false
			            }
	        ],
	      "url": "${path}${current_uri}?modelId=" + modelId
		});
	})
</script>